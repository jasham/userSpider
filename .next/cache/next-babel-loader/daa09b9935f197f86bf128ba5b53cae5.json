{"ast":null,"code":"import request from '../utility/apiWrapper';\nimport { GlobalContext } from '../../../pages/_app';\nexport const login = async data => {\n  const globalContext = useContext(GlobalContext);\n  let loginData = await request({\n    url: '/userlogin',\n    method: \"post\",\n    data\n  });\n\n  if (loginData.result === \"success\") {\n    document.cookie = `token=${loginData.token}`;\n    let stringifiedData = JSON.stringify(loginData.data);\n    localStorage.setItem('userInfo', stringifiedData);\n    globalContext.allDispatch({\n      type: ALERT_DIALOG,\n      value: true\n    });\n  } else if (loginData.result === \"wrongEmail\") {}\n\n  console.log(\"Here is loginData\", loginData);\n};","map":{"version":3,"sources":["/Users/apple/Desktop/mydir/projects/personal/spidy/fe_2/spidy_fe/app/lib/services/login.js"],"names":["request","GlobalContext","login","data","globalContext","useContext","loginData","url","method","result","document","cookie","token","stringifiedData","JSON","stringify","localStorage","setItem","allDispatch","type","ALERT_DIALOG","value","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,SAASC,aAAT,QAA8B,qBAA9B;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AACjC,QAAMC,aAAa,GAAGC,UAAU,CAACJ,aAAD,CAAhC;AAEA,MAAIK,SAAS,GAAG,MAAMN,OAAO,CAAC;AAAEO,IAAAA,GAAG,EAAG,YAAR;AAAsBC,IAAAA,MAAM,EAAG,MAA/B;AAAuCL,IAAAA;AAAvC,GAAD,CAA7B;;AACA,MAAGG,SAAS,CAACG,MAAV,KAAqB,SAAxB,EAAkC;AAC9BC,IAAAA,QAAQ,CAACC,MAAT,GAAmB,SAAQL,SAAS,CAACM,KAAM,EAA3C;AACA,QAAIC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeT,SAAS,CAACH,IAAzB,CAAtB;AACAa,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCJ,eAAhC;AACAT,IAAAA,aAAa,CAACc,WAAd,CAA0B;AACtBC,MAAAA,IAAI,EAAGC,YADe;AAEtBC,MAAAA,KAAK,EAAG;AAFc,KAA1B;AAIH,GARD,MAQM,IAAGf,SAAS,CAACG,MAAV,KAAqB,YAAxB,EAAqC,CAE1C;;AACDa,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCjB,SAAhC;AACH,CAhBM","sourcesContent":["import request from '../utility/apiWrapper'\nimport { GlobalContext } from '../../../pages/_app'\n\nexport const login = async (data) => {\n    const globalContext = useContext(GlobalContext)\n\n    let loginData = await request({ url : '/userlogin', method : \"post\", data  })\n    if(loginData.result === \"success\"){\n        document.cookie = `token=${loginData.token}`\n        let stringifiedData = JSON.stringify(loginData.data)\n        localStorage.setItem('userInfo',stringifiedData)\n        globalContext.allDispatch({\n            type : ALERT_DIALOG,\n            value : true\n        })\n    }else if(loginData.result === \"wrongEmail\"){\n\n    }\n    console.log(\"Here is loginData\",loginData)\n}\n"]},"metadata":{},"sourceType":"module"}