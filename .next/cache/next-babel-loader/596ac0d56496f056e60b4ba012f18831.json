{"ast":null,"code":"import React from 'react';\nimport request from '../utility/apiWrapper';\nimport { GlobalContext } from '../../../pages/_app';\nimport { AUTH_STATUS } from '../utility/type';\nimport URLS from '../utility/apis';\n\nconst login = async data => {\n  const globalContext = React.u(GlobalContext);\n  const loginData = await request({\n    url: `${URLS.USERLOGIN}`,\n    method: 'post',\n    data\n  });\n\n  if (loginData.result === 'success') {\n    document.cookie = `token=${loginData.token}`;\n    const stringifiedData = JSON.stringify(loginData.data);\n    localStorage.setItem('userInfo', stringifiedData);\n    globalContext.allDispatch({\n      type: AUTH_STATUS,\n      value: true\n    });\n  } else if (loginData.result === 'wrongEmail') {}\n};\n\nexport default login;","map":{"version":3,"sources":["/Users/apple/Desktop/mydir/projects/personal/spidy/fe_2/spidy_fe/app/lib/services/login.js"],"names":["React","request","GlobalContext","AUTH_STATUS","URLS","login","data","globalContext","u","loginData","url","USERLOGIN","method","result","document","cookie","token","stringifiedData","JSON","stringify","localStorage","setItem","allDispatch","type","value"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,OAAOC,IAAP,MAAiB,iBAAjB;;AAEA,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AAC5B,QAAMC,aAAa,GAAGP,KAAK,CAACQ,CAAN,CAAQN,aAAR,CAAtB;AAEA,QAAMO,SAAS,GAAG,MAAMR,OAAO,CAAC;AAC9BS,IAAAA,GAAG,EAAG,GAAEN,IAAI,CAACO,SAAU,EADO;AAE9BC,IAAAA,MAAM,EAAE,MAFsB;AAG9BN,IAAAA;AAH8B,GAAD,CAA/B;;AAKA,MAAIG,SAAS,CAACI,MAAV,KAAqB,SAAzB,EAAoC;AAClCC,IAAAA,QAAQ,CAACC,MAAT,GAAmB,SAAQN,SAAS,CAACO,KAAM,EAA3C;AACA,UAAMC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeV,SAAS,CAACH,IAAzB,CAAxB;AACAc,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,eAAjC;AACAV,IAAAA,aAAa,CAACe,WAAd,CAA0B;AACxBC,MAAAA,IAAI,EAAEpB,WADkB;AAExBqB,MAAAA,KAAK,EAAE;AAFiB,KAA1B;AAID,GARD,MAQO,IAAIf,SAAS,CAACI,MAAV,KAAqB,YAAzB,EAAuC,CAC7C;AACF,CAlBD;;AAmBA,eAAeR,KAAf","sourcesContent":["import React from 'react';\nimport request from '../utility/apiWrapper';\nimport { GlobalContext } from '../../../pages/_app';\nimport { AUTH_STATUS } from '../utility/type';\nimport URLS from '../utility/apis';\n\nconst login = async (data) => {\n  const globalContext = React.u(GlobalContext);\n\n  const loginData = await request({\n    url: `${URLS.USERLOGIN}`,\n    method: 'post',\n    data,\n  });\n  if (loginData.result === 'success') {\n    document.cookie = `token=${loginData.token}`;\n    const stringifiedData = JSON.stringify(loginData.data);\n    localStorage.setItem('userInfo', stringifiedData);\n    globalContext.allDispatch({\n      type: AUTH_STATUS,\n      value: true,\n    });\n  } else if (loginData.result === 'wrongEmail') {\n  }\n};\nexport default login;\n"]},"metadata":{},"sourceType":"module"}